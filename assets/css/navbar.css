/* ========================================= */
/* ===== BARRE DE NAVIGATION (NAVBAR) ===== */
/* ========================================= */
/* Ce fichier gère l'apparence et le comportement de la barre de navigation en haut de page */

/* === RESET CSS === */
/* Supprime les marges et espacements par défaut de tous les éléments */
* {
  margin: 0; /* Supprime toutes les marges extérieures */
  padding: 0; /* Supprime tous les espacements intérieurs */
  box-sizing: border-box; /* La largeur inclut les bordures et paddings */
}

/* === HEADER PRINCIPAL === */
/* La barre de navigation fixe en haut de l'écran */
header {
  background: white; /* Fond blanc */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); /* Ombre légère en dessous */
  position: fixed; /* Reste fixe quand on fait défiler la page */
  top: 0; /* Collé en haut de l'écran */
  width: 100%; /* Prend toute la largeur */
  z-index: 1000; /* Apparaît au-dessus de tout le reste */
  border-bottom: 1px solid #f1f5f9; /* Bordure fine en bas */
  height: 100px; /* Hauteur fixe */
}

/* === CONTENEUR PRINCIPAL DE LA NAVBAR === */
/* Organise les éléments à l'intérieur du header */
#section {
  display: flex; /* Affiche les éléments sur la même ligne */
  align-items: center; /* Centre verticalement */
  justify-content: space-between; /* Logo à gauche, menu à droite */
  padding: 1.5rem 4rem; /* Espacement intérieur : haut/bas + gauche/droite */
  max-width: 1400px; /* Largeur maximum du contenu */
  margin: 0 auto; /* Centre le contenu sur la page */
  height: 100px; /* Même hauteur que le header */
  position: relative; /* Pour positionner des éléments à l'intérieur */
}

/* === ZONE DU LOGO === */
/* Contient le logo du site */
#header-title {
  display: flex; /* Pour aligner le logo */
  align-items: center; /* Centre verticalement */
  flex-shrink: 0; /* Le logo ne rétrécit jamais */
  z-index: 2; /* Au-dessus des autres éléments */
}

/* === LIEN DU LOGO === */
/* Le lien cliquable autour du logo */
#header-title a {
  display: flex; /* Pour aligner le logo */
  align-items: center; /* Centre verticalement */
  text-decoration: none; /* Supprime le soulignement */
  transition: transform 0.2s ease; /* Animation douce */
}

/* === EFFET HOVER DU LOGO === */
/* Légère animation quand on survole le logo */
#header-title a:hover {
  transform: scale(1.02); /* Agrandissement de 2% */
}

/* === IMAGE DU LOGO === */
#logo {
  height: 80px; /* Hauteur fixe */
  width: auto; /* Largeur automatique pour garder les proportions */
}

/* ================================== */
/* === SYSTÈME DE MENU BURGER ===== */
/* ================================== */
/* Pour afficher le menu sur mobile sous forme de "hamburger" */

/* === CHECKBOX INVISIBLE === */
/* Input caché qui contrôle l'ouverture/fermeture du menu mobile */
#menu-toggle {
  display: none; /* Complètement invisible, sert juste à l'état ouvert/fermé */
}

/* === BOUTON BURGER PRINCIPAL === */
/* L'icône "hamburger" avec 3 barres qui apparaît sur mobile */
.burger-menu {
  /* VISIBILITÉ */
  display: none; /* Caché par défaut (visible seulement sur mobile) */
  
  /* DIMENSIONS */
  width: 48px; /* Largeur du bouton */
  height: 48px; /* Hauteur du bouton */
  
  /* APPARENCE */
  background: rgba(109, 180, 196, 0.1); /* Fond bleu très léger */
  border: 2px solid transparent; /* Bordure transparente par défaut */
  border-radius: 12px; /* Coins arrondis */
  
  /* INTERACTIVITÉ */
  cursor: pointer; /* Curseur de main */
  
  /* POSITIONNEMENT */
  z-index: 1001; /* Au-dessus de tout (même du menu ouvert) */
  position: relative; /* Pour positionner les barres à l'intérieur */
  
  /* ANIMATION */
  transition: all 0.3s ease; /* Animation fluide pour tous les changements */
}

/* === EFFET HOVER DU BURGER === */
/* Animation quand on survole le bouton burger */
.burger-menu:hover {
  background: rgba(109, 180, 196, 0.2); /* Fond plus intense */
  border-color: rgba(109, 180, 196, 0.3); /* Bordure visible */
  transform: scale(1.05); /* Légère augmentation de taille */
}

/* === BARRES DU BURGER === */
/* Les 3 lignes horizontales qui forment l'icône "hamburger" */
.burger-line {
  /* DIMENSIONS */
  width: 26px; /* Largeur de chaque barre */
  height: 3px; /* Hauteur de chaque barre (fine) */
  border-radius: 2px; /* Coins légèrement arrondis */
  
  /* APPARENCE */
  background: linear-gradient(45deg, #6db4c4, #5aa3b3); /* Dégradé bleu */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15); /* Petite ombre */
  
  /* POSITIONNEMENT */
  position: absolute; /* Positionnées précisément dans le bouton */
  left: 50%; /* Centrées horizontalement */
  transform: translateX(-50%); /* Ajustement pour centrage parfait */
  
  /* ANIMATION */
  transition: all 0.3s ease; /* Animation fluide pour la transformation en X */
}

/* === POSITION DES BARRES === */
/* Position verticale de chaque barre */

/* Barre du haut */
.burger-line:nth-child(1) {
  top: 12px; /* 12px du haut du bouton */
}

/* Barre du milieu */
.burger-line:nth-child(2) {
  top: 22.5px; /* Au centre du bouton (48px/2 - 1.5px) */
}

/* Barre du bas */
.burger-line:nth-child(3) {
  top: 33px; /* 33px du haut (proche du bas) */
}

/* ========================================= */
/* === TRANSFORMATION BURGER EN X ======== */
/* ========================================= */
/* Quand le menu est ouvert (checkbox cochée), le burger se transforme en X */

/* === CHANGEMENT DE COULEUR DU BOUTON === */
/* Le bouton devient rouge quand le menu est ouvert */
#menu-toggle:checked + .burger-menu {
  background: rgba(239, 68, 68, 0.1); /* Fond rouge très léger */
  border-color: rgba(239, 68, 68, 0.2); /* Bordure rouge */
}

/* === CHANGEMENT DE COULEUR DES BARRES === */
/* Les barres deviennent rouges pour indiquer "fermer" */
#menu-toggle:checked + .burger-menu .burger-line {
  background: linear-gradient(45deg, #ef4444, #dc2626); /* Dégradé rouge */
}

/* === TRANSFORMATION DE LA BARRE DU HAUT === */
/* La barre du haut devient la partie haute du X */
#menu-toggle:checked + .burger-menu .burger-line:nth-child(1) {
  top: 22.5px; /* Se déplace au centre du bouton */
  transform: translateX(-50%) rotate(45deg); /* Rotation de 45° + centrage */
  transform-origin: center; /* Point de rotation au centre */
}

/* === DISPARITION DE LA BARRE DU MILIEU === */
/* La barre du milieu disparaît complètement */
#menu-toggle:checked + .burger-menu .burger-line:nth-child(2) {
  opacity: 0; /* Devient invisible */
  transform: translateX(-50%) scale(0); /* Rétrécit jusqu'à disparaître */
}

/* === TRANSFORMATION DE LA BARRE DU BAS === */
/* La barre du bas devient la partie basse du X */
#menu-toggle:checked + .burger-menu .burger-line:nth-child(3) {
  top: 22.5px; /* Se déplace au centre du bouton */
  transform: translateX(-50%) rotate(-45deg); /* Rotation de -45° + centrage */
  transform-origin: center; /* Point de rotation au centre */
}

/* ===================================== */
/* === MENU DE NAVIGATION (DESKTOP) === */
/* ===================================== */
/* Le menu principal visible sur les écrans larges */

/* === CONTENEUR DU MENU === */
/* Positionne le menu au centre du header */
.nav-container {
  position: absolute; /* Positionné par rapport au header */
  left: 50%; /* Commence au centre */
  transform: translateX(-50%); /* Décale de sa propre largeur pour être parfaitement centré */
  display: flex; /* Utilise flexbox */
  align-items: center; /* Aligne verticalement */
}

/* === LISTE DU MENU === */
/* La liste <ul> qui contient tous les liens */
.nav-menu {
  display: flex; /* Liens côte à côte */
  list-style: none; /* Supprime les puces */
  gap: 2.5rem; /* Grand espace entre les liens (40px) */
  margin: 0; /* Pas de marge */
  padding: 0; /* Pas d'espacement intérieur */
  align-items: center; /* Aligne tous les liens verticalement */
}

/* ================================== */
/* === LIENS DE NAVIGATION NORMAUX === */
/* ================================== */
/* Les liens habituels : Accueil, Recettes, Catégories, etc. */

.nav-menu li:nth-child(-n + 4) a {
  /* APPARENCE */
  color: #374151; /* Gris foncé */
  background: transparent; /* Pas de fond par défaut */
  border-radius: 8px; /* Coins arrondis */
  
  /* TYPOGRAPHIE */
  text-decoration: none; /* Pas de soulignement */
  font-weight: 600; /* Semi-gras */
  font-size: 1rem; /* Taille normale */
  white-space: nowrap; /* Pas de retour à la ligne */
  
  /* ESPACEMENT */
  padding: 0.75rem 1rem; /* Espace intérieur pour zone cliquable */
  
  /* INTERACTIVITÉ */
  cursor: pointer; /* Curseur de main */
  transition: all 0.2s ease; /* Animations rapides */
  
  /* POSITIONNEMENT */
  position: relative; /* Pour d'éventuels effets */
}

/* === EFFET HOVER DES LIENS NORMAUX === */
.nav-menu li:nth-child(-n + 4) a:hover {
  color: #5dbea3; /* Vert au survol */
  background: rgba(93, 190, 163, 0.08); /* Fond vert très léger */
  transform: translateY(-1px); /* Légère élévation */
}

/* ================================ */
/* === BOUTONS D'ACTION SPÉCIAUX === */
/* ================================ */
/* Les boutons de connexion/inscription en rouge */

.nav-menu li.red-btn a {
  /* APPARENCE */
  background: linear-gradient(135deg, #ef4444, #dc2626); /* Dégradé rouge */
  color: white; /* Texte blanc */
  border-radius: 8px; /* Coins arrondis */
  
  /* TYPOGRAPHIE */
  text-decoration: none; /* Pas de soulignement */
  font-weight: 600; /* Semi-gras */
  font-size: 0.95rem; /* Légèrement plus petit */
  white-space: nowrap; /* Pas de retour à la ligne */
  
  /* ESPACEMENT */
  padding: 0.75rem 1.5rem; /* Plus d'espace horizontal que les liens normaux */
  margin-left: 1.5rem; /* Espace à gauche pour séparer des autres liens */
  
  /* INTERACTIVITÉ */
  cursor: pointer; /* Curseur de main */
  display: inline-block; /* Peut avoir des dimensions */
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(239, 68, 68, 0.2);
}

.nav-menu li.red-btn a:hover {
  background: linear-gradient(135deg, #dc2626, #b91c1c);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

/* Overlay pour fermer le menu */
.menu-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  pointer-events: none;
  backdrop-filter: blur(2px);
  cursor: pointer;
}

#menu-toggle:checked ~ .menu-overlay {
  opacity: 1;
  visibility: visible;
  pointer-events: all;
}

/* Scroll et ancres */
html {
  scroll-behavior: smooth;
}

section[id] {
  scroll-margin-top: 120px;
}

#recettes,
#categories,
#favoris,
#ajouts-recettes,
#accueil {
  scroll-margin-top: 120px;
}

header,
header * {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  font-size: 1rem;
  line-height: 1.6;
  font-weight: 600;
}

/* ===== BREAKPOINTS OPTIMISÉS ===== */

/* BREAKPOINT SPÉCIAL: 1024px exact (transition critique) */
@media screen and (max-width: 1024px) and (min-width: 1024px) {
  #section {
    padding: 1.2rem 2rem; /* CORRECTION: Encore plus compact pour 1024px exact */
  }

  .nav-menu {
    gap: 1.2rem; /* CORRECTION: Gap minimal */
  }

  .nav-menu li:nth-child(-n + 4) a {
    font-size: 0.85rem;
    padding: 0.5rem 0.7rem;
  }

  .nav-menu li.red-btn a {
    margin-left: 0.6rem;
    padding: 0.5rem 0.9rem;
    font-size: 0.8rem;
    min-width: 100px;
  }
}

/* Desktop Standard (1025px-1199px) - AJUSTÉ */
@media screen and (max-width: 1199px) and (min-width: 1025px) {
  #section {
    padding: 1.5rem 2.5rem;
  }

  .nav-container {
    position: static;
    transform: none;
    margin-left: auto;
    margin-right: 1.5rem;
    max-width: none;
  }

  .nav-menu {
    gap: 1.4rem;
  }

  .nav-menu li:nth-child(-n + 4) a {
    font-size: 0.9rem;
    padding: 0.6rem 0.8rem;
  }

  .nav-menu li.red-btn a {
    margin-left: 0.8rem;
    padding: 0.6rem 1rem;
    font-size: 0.85rem;
    min-width: 110px;
    text-align: center;
  }
}

/* CORRECTION TABLETTE (768px-1023px) - BREAKPOINT CRITIQUE POUR 800px */
@media screen and (max-width: 1023px) and (min-width: 768px) {
  header {
    height: 80px !important;
  }

  #section {
    height: 80px !important;
    padding: 1rem 2rem;
  }

  #logo {
    height: 60px;
    max-width: 140px;
  }

  .nav-container {
    position: static;
    transform: none;
    margin-left: auto;
    margin-right: 1.2rem;
  }

  .nav-menu {
    gap: 1rem;
  }

  .nav-menu li:nth-child(-n + 4) a {
    font-size: 0.8rem;
    padding: 0.4rem 0.6rem;
  }

  .nav-menu li.red-btn a {
    margin-left: 0.6rem;
    padding: 0.4rem 0.8rem;
    font-size: 0.75rem;
    min-width: 90px;
    text-align: center;
    white-space: nowrap;
  }

  /* Ancres pour tablette */
  html {
    scroll-padding-top: 100px;
  }

  section[id],
  #recettes,
  #categories,
  #favoris,
  #ajouts-recettes,
  #accueil {
    scroll-margin-top: 100px;
  }
}

/* Mobile (767px et moins) */
@media screen and (max-width: 767px) {
  header {
    height: 80px;
  }

  #section {
    padding: 1rem 1.5rem;
    gap: 1.5rem;
    height: 80px;
  }

  #logo {
    height: 60px;
    max-width: 150px;
  }

  /* Afficher le burger menu */
  .burger-menu {
    display: block;
    width: 42px;
    height: 42px;
    border-radius: 10px;
  }

  .burger-line {
    width: 22px;
    height: 3px;
  }

  .burger-line:nth-child(1) {
    top: 10px;
  }

  .burger-line:nth-child(2) {
    top: 19.5px;
  }

  .burger-line:nth-child(3) {
    top: 29px;
  }

  #menu-toggle:checked + .burger-menu .burger-line:nth-child(1) {
    top: 19.5px;
    transform: translateX(-50%) rotate(45deg);
  }

  #menu-toggle:checked + .burger-menu .burger-line:nth-child(2) {
    transform: translateX(-50%) scale(0);
  }

  #menu-toggle:checked + .burger-menu .burger-line:nth-child(3) {
    top: 19.5px;
    transform: translateX(-50%) rotate(-45deg);
  }

  /* Menu mobile */
  .nav-container {
    position: fixed;
    top: 0;
    right: -100%;
    left: auto;
    transform: none;
    width: 85%;
    max-width: 380px;
    height: 100vh;
    background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
    transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    z-index: 1000;
    padding: 0;
    justify-content: flex-start;
    box-shadow: -8px 0 25px rgba(0, 0, 0, 0.15);
    border-left: 1px solid rgba(109, 180, 196, 0.2);
  }

  #menu-toggle:checked ~ .nav-container {
    right: 0;
  }

  .nav-menu {
    flex-direction: column;
    padding: 5rem 2rem 2rem;
    gap: 0;
    height: 100%;
    overflow-y: auto;
    align-items: stretch;
    background: transparent;
  }

  .nav-menu li {
    margin-bottom: 0.5rem;
  }

  .nav-menu li:nth-child(-n + 4) a {
    display: block;
    padding: 1.2rem 1.5rem;
    font-size: 1.05rem;
    border-radius: 12px;
    color: #374151;
    background: transparent;
    transition: all 0.3s ease;
    margin: 0;
    cursor: pointer;
    font-weight: 600;
    border: 2px solid transparent;
  }

  .nav-menu li:nth-child(-n + 4) a:hover {
    background: linear-gradient(
      135deg,
      rgba(109, 180, 196, 0.1),
      rgba(90, 163, 179, 0.1)
    );
    color: #6db4c4;
    border-color: rgba(109, 180, 196, 0.2);
    transform: translateX(8px);
  }

  .nav-menu li.red-btn a {
    background: linear-gradient(135deg, #6db4c4, #5aa3b3);
    color: white;
    font-weight: 600;
    margin: 1.5rem 0 0 0;
    padding: 1.2rem 1.5rem;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(109, 180, 196, 0.3);
    border: 2px solid transparent;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    min-width: auto;
    text-align: center;
  }

  .nav-menu li:nth-last-child(2) a:hover,
  .nav-menu li:nth-last-child(1) a:hover {
    background: linear-gradient(135deg, #5aa3b3, #4a929f);
    transform: translateX(8px) translateY(-2px);
    box-shadow: 0 6px 20px rgba(109, 180, 196, 0.4);
  }

  /* Ancres pour mobile */
  html {
    scroll-padding-top: 100px;
  }

  section[id],
  #recettes,
  #categories,
  #favoris,
  #ajouts-recettes,
  #accueil {
    scroll-margin-top: 100px;
  }
}

/* Petit Mobile (480px et moins) */
@media screen and (max-width: 480px) {
  header {
    height: 70px;
  }

  #section {
    padding: 0.75rem 1rem;
    height: 70px;
    gap: 1rem;
  }

  #logo {
    height: 50px;
    max-width: 120px;
  }

  .burger-menu {
    width: 38px;
    height: 38px;
    border-radius: 9px;
  }

  .burger-line {
    width: 20px;
    height: 3px;
  }

  .burger-line:nth-child(1) {
    top: 9px;
  }

  .burger-line:nth-child(2) {
    top: 17.5px;
  }

  .burger-line:nth-child(3) {
    top: 26px;
  }

  #menu-toggle:checked + .burger-menu .burger-line:nth-child(1) {
    top: 17.5px;
    transform: translateX(-50%) rotate(45deg);
  }

  #menu-toggle:checked + .burger-menu .burger-line:nth-child(2) {
    transform: translateX(-50%) scale(0);
  }

  #menu-toggle:checked + .burger-menu .burger-line:nth-child(3) {
    top: 17.5px;
    transform: translateX(-50%) rotate(-45deg);
  }

  .nav-container {
    width: 90%;
    max-width: 320px;
  }

  .nav-menu {
    padding: 4rem 1.5rem 2rem;
  }

  .nav-menu li:nth-child(-n + 4) a {
    padding: 1rem 1.2rem;
    font-size: 1rem;
  }

  .nav-menu li.red-btn a {
    padding: 1rem 1.2rem;
  }

  /* Ancres pour petit mobile */
  html {
    scroll-padding-top: 90px;
  }

  section[id],
  #recettes,
  #categories,
  #favoris,
  #ajouts-recettes,
  #accueil {
    scroll-margin-top: 90px;
  }
}

/* Focus et accessibilité */
.burger-menu:focus,
.nav-menu a:focus {
  outline: 3px solid rgba(109, 180, 196, 0.5);
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
    transition-duration: 0.01ms;
  }
}

/* Animations mobile */
@media screen and (max-width: 767px) {
  @keyframes slideInFromRight {
    from {
      opacity: 0;
      transform: translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  #menu-toggle:checked ~ .nav-container .nav-menu li {
    animation: slideInFromRight 0.3s ease-out forwards;
  }

  #menu-toggle:checked ~ .nav-container .nav-menu li:nth-child(1) {
    animation-delay: 0.1s;
  }
  #menu-toggle:checked ~ .nav-container .nav-menu li:nth-child(2) {
    animation-delay: 0.15s;
  }
  #menu-toggle:checked ~ .nav-container .nav-menu li:nth-child(3) {
    animation-delay: 0.2s;
  }
  #menu-toggle:checked ~ .nav-container .nav-menu li:nth-child(4) {
    animation-delay: 0.25s;
  }
  #menu-toggle:checked ~ .nav-container .nav-menu li:nth-child(5) {
    animation-delay: 0.3s;
  }
  #menu-toggle:checked ~ .nav-container .nav-menu li:nth-child(6) {
    animation-delay: 0.35s;
  }
}
